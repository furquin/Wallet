(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{32:function(e,t,n){e.exports=n(48)},37:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(18),c=n.n(l),i=n(19),u=(n(37),n(11)),o=n(3),s=n(4),m=n(6),d=n(5),p=n(2),h=n(15),b=n(17),E=n.n(b),v=n(22),f=function(){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json().then((function(t){return e.ok?Promise.resolve(t):Promise.reject(t)}))}))},j=function(e,t){return{type:"WALLET_INFO",expenses:e,currencies:t}},O=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(h.a)({},a,r),(function(){var t=e.state,n=t.senha,a=t.email,r={key:n.length>=6}.key;e.setState({disabled:a.match(/\w{1,20}@\w{1,10}\.com/g)&&r})}))},e.redirect=function(){e.setState({redirect:!0}),(0,e.props.userValues)(e.state.email)},e.state={email:"",senha:"",redirect:!1,disabled:null},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.senha,a=e.redirect,l=e.disabled;return r.a.createElement("div",null,r.a.createElement("form",{action:""},r.a.createElement("label",{htmlFor:"email"},"E-mail:",r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Insira seu e-mail","data-testid":"email-input",onChange:this.handleChange,value:t})),r.a.createElement("label",{htmlFor:"password"},"Senha:",r.a.createElement("input",{type:"password",name:"senha",id:"senha",placeholder:"Insira sua senha","data-testid":"password-input",onChange:this.handleChange,value:n})),r.a.createElement("button",{type:"button",onClick:this.redirect,disabled:!l},"Entrar"),a&&r.a.createElement(p.a,{to:"/carteira"})))}}]),n}(a.Component),g=Object(u.b)(null,(function(e){return{userValues:function(t){return e(function(e){return{type:"USER_INFO",email:e}}(t))}}}))(O),y=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,null))}}]),n}(r.a.Component),x=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.expenses.reduce((function(e,t){return t.value*t.exchangeRates[t.currency].ask+e}),0);return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h3",{"data-testid":"email-field"},t),r.a.createElement("h3",{"data-testid":"total-field"},"Despesa: R$",n.toFixed(2)),r.a.createElement("h3",{"data-testid":"header-currency-field"},"BRL")))}}]),n}(a.Component),C=Object(u.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(x),w=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null," Editar/Excluir")),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,e.method),r.a.createElement("td",null,e.value),r.a.createElement("td",null,Number(e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,Number(e.exchangeRates[e.currency].ask*e.value).toFixed(2)),r.a.createElement("td",null,e.exchangeRates[e.currency].name.split("/")[0]),r.a.createElement("td",null," Editar/Excluir"))})))))}}]),n}(a.Component),k=Object(u.b)((function(e){return{expenses:e.wallet.expenses}}))(w),F=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).submitExpenses=function(){(0,a.props.getExpenses)(a.state),a.setState({value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.state={value:"",description:"",currency:"USD",method:"",tag:""},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getCurrencies)()}},{key:"render",value:function(){var e=this.props.currencies,t=this.state,n=t.value,a=t.description,l=t.currency,c=t.method,i=t.tag;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"value-input"},"Valor das despesas:",r.a.createElement("input",{type:"text",name:"value",id:"value-input","data-testid":"value-input",value:n,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"description-input"},"Descri\xe7\xe3o das despesas:",r.a.createElement("input",{type:"text",name:"description",id:"description-input","data-testid":"description-input",value:a,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"currency"},"Moeda:",r.a.createElement("select",{name:"currency",id:"currency","data-testid":"currency-input",value:l,onChange:this.handleChange},e.map((function(e,t){return r.a.createElement("option",{value:e,key:t,"data-testid":e},e)})))),r.a.createElement("label",{htmlFor:"method"},"Forma de pagamento:",r.a.createElement("select",{label:"m\xe9todo_de_pagamento",name:"method",id:"method","data-testid":"method-input",value:c,onChange:this.handleChange},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"tag"},"Selecionar categoria:",r.a.createElement("select",{label:"categoria_de_compra",name:"tag",id:"tag","data-testid":"tag-input",value:i,onChange:this.handleChange},r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade"))),r.a.createElement("button",{type:"button",onClick:this.submitExpenses},"Adicionar despesa")))}}]),n}(a.Component),R=Object(u.b)((function(e){return{currencies:e.wallet.currencies}}),(function(e){return{getCurrencies:function(){return e(function(){var e=Object(v.a)(E.a.mark((function e(t){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:n=e.sent,a=Object.keys(n),r=a.indexOf("USDT"),a.splice(r,1),t({type:"CURRENCY",currencies:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getExpenses:function(t){return e(function(e){return function(){var t=Object(v.a)(E.a.mark((function t(n){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:a=t.sent,n(j(e,a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(F),S=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement(R,null),r.a.createElement(k,null))}}]),n}(r.a.Component),D=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=f(),t=Object.keys(e);return console.log(t),r.a.createElement("div",null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:y}),r.a.createElement(p.b,{exact:!0,path:"/carteira",component:S})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=n(13),_=n(29),I=n(30),T=n(12),U={email:"",senha:""},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_INFO":return Object(T.a)(Object(T.a)({},e),{},{email:t.email});default:return e}},M=n(31),A={currencies:[],expenses:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WALLET_INFO":return Object(T.a)(Object(T.a)({},e),{},{expenses:[].concat(Object(M.a)(e.expenses),[Object(T.a)(Object(T.a)({},t.expenses),{},{exchangeRates:t.currencies,id:e.expenses.length})])});case"CURRENCY":return Object(T.a)(Object(T.a)({},e),{},{currencies:t.currencies});default:return e}},W=Object(N.combineReducers)({user:L,wallet:V}),B=Object(N.createStore)(W,Object(_.composeWithDevTools)(Object(N.applyMiddleware)(I.a)));c.a.render(r.a.createElement(i.a,null,r.a.createElement(u.a,{store:B},r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.7a4867c0.chunk.js.map